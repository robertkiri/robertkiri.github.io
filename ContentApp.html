<html>

<body>
<title>ContentApp</title>  
<h1>ContentApp</h1> 
<br>
<br>
<br>
<p>Message:</p>
<p id="received"></p>

<input type="text" id="message"></html>

<button id="button">Send message</button>
<br>
<br>
<button id="button" onclick="openwindow()">Open window</button>

<script>

    const channel = new BroadcastChannel("example-channel");
    const messageControl = document.querySelector("#message");
    const button = document.querySelector("#button");
    const received = document.querySelector("#received");
    
    button.addEventListener("click", () => {
        console.log("sent item");
        channel.postMessage(messageControl.value);
    });
    
    channel.addEventListener("message", (event) => {
      console.log("received");
      received.textContent = event.data;
    });

    function openwindow(){
      window.open("https://robertkiri.github.io/TaskPaneApp.html");
    }
    </script>
</body>
</html>